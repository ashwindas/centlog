<%= form_for(@transaction) do |f| %>
<% if @transaction.errors.any? %>
<br/>
<div id="error_explanation">
	<h2><%= pluralize(@transaction.errors.count, "error") %> prohibited this transaction from being saved:</h2>
	<ul>
		<% @transaction.errors.full_messages.each do |msg| %>
		<li>
			<%= msg %>
		</li>
		<% end %>
	</ul>
</div>
<% end %>
<div class="field">
	<br />
	<%= f.hidden_field :user_id,  :value => current_user.id %>
</div>
<div class="field">
	<%= f.label :description %>
	<br />
	<%= f.text_field :description %>
</div>
<div class="field">
	<%= f.label :amount %>
	<br />
	<%= f.text_field :amount %>
</div>
<div class="field">
	<%= f.label :tag %>
	<br />
	<%= f.text_field :tag %>
</div>
<div class="field">
	<%= f.label :location %>
	<br />
	<%= f.text_field :location %>
</div>
<div class="field">
	<%= f.label :date %>
	<br />
	<%= f.date_select :date %>
</div>
<div class="actions">
	<%= f.submit "Done",:class => "btn primary medium"%>
</div>
<% end %> 



<script>
	$(function() {
		var availableTags = [
		<%@tag_set.each do |t|%>
		"<%=t%>",
		<%end%>
		"Gadgets",
		"Food",
		"House",
		"Clothing",
		"Misc",
		"Transport",
		"Insurance",
		"Gifts",
		"Phone",
		"Internet/Cable TV"		
		];
		
		$( "#transaction_tag" ).autocomplete({
			source: availableTags
		});
	});
</script>